# 前言

Python 已经向每一种可能的 IT 操作发展并扩展了它的特性。本书将帮助您利用 Python 的最新特性编写有效的脚本，并创建命令行工具（用于数据类型、循环、条件、函数、错误处理等）来管理您的环境。本书将围绕整个开发过程展开，从设置和规划到自动测试和构建不同的命令行工具。这本书让你开始使用从基本脚本到使用标准库包的所有东西。最后，您将创建一个大型脚本项目，学习如何基于理想资源规划、实施和分发项目。

# 这本书是给谁的

本书非常适合于对 Python 编程有一些基本了解的用户，他们希望将编程技能扩展到命令行脚本和系统管理。

必须具备 Python 的先验知识。

# 这本书涵盖的内容

[第一章](01.html)*Python 脚本概述*介绍了 Python 的安装过程以及 Python 解释器工具的使用。您将学习如何为变量赋值，以及如何介绍变量和字符串。您将学习序列数据类型，包括列表、元组、集合和字典。此外，您还将学习如何在脚本中解析命令行选项

[第 2 章](02.html)*调试和评测 Python 脚本*，教您如何使用调试器工具调试 Python 程序。您还将学习如何处理错误，并探索分析和计时的概念。

[第三章](03.html)*单元测试——单元测试框架介绍*是关于 Python 中的单元测试。我们将创建单元测试来测试程序。

[第 4 章](04.html)*自动化常规管理活动*将教您如何自动化系统管理员的常规管理活动。您将学习如何接受输入、处理密码、执行外部命令、读取配置文件、向脚本添加警告代码、实施 CPU 限制、启动 web 浏览器、使用`os`模块以及进行备份。

[第 5 章](05.html)*处理文件、目录和数据*是您学习如何将操作系统模块用于各种活动的地方。您将了解数据以及应用于该数据的一些方法，例如复制、移动、合并和比较。您还将了解`tarfile`模块以及如何使用它。

[第 6 章](06.html)、*文件归档、加密和解密*深入研究了文件归档、创建归档以及 TAR 和 ZIP 创建。您还将了解如何使用应用程序解包`.tar`和`.zip`文件。

[第 7 章](07.html)*文本处理和正则表达式*介绍 Python 中的文本处理和正则表达式。Python 有一个非常强大的东西库，称为正则表达式，它执行搜索和提取数据等任务。您将学习如何在文件中使用正则表达式。您还将学习如何读取和写入文件。

[第 8 章](08.html)*文档和报告*将教您如何使用 Python 记录和报告信息。您还将学习如何使用 Python 脚本获取输入以及如何打印输出。使用 Python，您可以编写用于自动信息收集的脚本。在 Python 中编写接收电子邮件的脚本更容易。您将学习如何格式化信息。

[第 9 章](09.html)*处理各种文件*将探讨处理各种文件的问题，如 PDF 文件、Excel 文件和 CSV 文件。您将学习如何使用 Python 打开、编辑和获取这些文件中的数据。

[第 10 章](10.html)*基础网络——套接字编程*首先介绍网络的基础知识；然后，您将了解 TCP、UDP 等套接字。您还将了解如何编程套接字以进行通信并获取 HTTP 和 FTP 等协议的信息。

[第 11 章](11.html)，H*使用 Python 脚本处理电子邮件*，探讨如何使用 Python 脚本撰写和发送电子邮件。发送电子邮件在任何软件程序中都是一项非常常见的任务。我们可以使用 Python 的`smtplib`模块在 Python 程序中发送电子邮件。在本章中，您还将了解用于在不同服务器上发送电子邮件的不同协议。

[第 12 章](12.html)*通过 Telnet 和 SSH*远程监控主机，向您展示了如何使用 SSH 协议在服务器上进行基本配置。我们将首先使用 Telnet 模块，然后使用首选方法 SSH 实现相同的配置。

[第 13 章](13.html)*构建图形用户界面*，介绍使用 PyQt 模块创建图形用户界面。

[第 14 章](14.html)*使用 Apache 和其他日志文件*解释了如何使用 Apache 日志文件。您还将了解日志解析应用程序；也就是说，识别特定类型的日志消息。您还将学习如何解析这些文件以及如何处理多个文件；检测任何异常、存储数据和生成报告。

[第 15 章](15.html)*SOAP 和 REST API 通信*关注 SOAP 和 REST 的基础知识，以及它们之间的区别。您还将了解 SOAP API 以及如何使用不同的库来使用它。我们还将研究 RESTAPI 和标准库。

[第 16 章](16.html)*网站抓取——从网站*中提取有用数据，将教您如何使用 Python 库从网站中提取数据。您还将学习如何使用 Python 搜索文章和源代码。

[第 17 章](17.html)*统计数据收集和报告*是关于科学计算中使用的高级 Python 库。这些库是 NumPy、SciPy 和 Matplotlib。您将学习数据可视化的概念以及如何绘制数据。

[第 18 章](18.html)*MySQL 和 SQLite 数据库管理*介绍了使用 MySQL 和 SQLite 数据库的数据库管理。您将了解这种管理的需求和设计，如何修改插件框架，以及如何编写生产者和消费者代码。

# 充分利用这本书

我们写这本书是为了尽可能让人容易理解，并通过几个脚本教您使用 Python 编程的许多不同方法。但是，要充分利用它们，您需要执行以下操作：

*   为测试/调试脚本设置并配置 Linux 系统
*   了解创建的脚本
*   请记住每个脚本的组件是什么
*   检查如何以新的方式重用或组合组件

这本书假定您具备一定程度的 Python 知识，开始您的旅程；本书将不介绍这些基本技能。这些技能包括：

*   如何设置和配置 Linux 系统
*   如何安装、访问和配置特定的 PythonIDE（尽管大多数 Linux 发行版中已经包含了几个）
*   关于计算和编程的一些基础知识（尽管我们将尽最大努力提供速成课程）

# 下载示例代码文件

您可以从您的账户[www.packt.com](http://www.packt.com)下载本书的示例代码文件。如果您在其他地方购买了本书，您可以访问[www.packt.com/support](http://www.packt.com/support)并注册，将文件通过电子邮件直接发送给您。

您可以通过以下步骤下载代码文件：

1.  登录或注册[www.packt.com](http://www.packt.com)。
2.  选择“支持”选项卡。
3.  点击代码下载和勘误表。
4.  在搜索框中输入图书名称，然后按照屏幕上的说明进行操作。

下载文件后，请确保使用以下最新版本解压或解压缩文件夹：

*   WinRAR/7-Zip for Windows
*   适用于 Mac 的 Zipeg/iZip/UnRarX
*   适用于 Linux 的 7-Zip/PeaZip

该书的代码包也托管在 GitHub[上 https://github.com/PacktPublishing/Mastering-Python-Scripting-for-System-Administrators-/](https://github.com/PacktPublishing/Mastering-Python-Scripting-for-System-Administrators-/) 。如果代码有更新，它将在现有 GitHub 存储库中更新。

我们的丰富书籍和视频目录中还有其他代码包，请访问**[https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)** 。看看他们！

# 使用的惯例

本书中使用了许多文本约定。

`CodeInText`：表示文本中的码字、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 句柄。下面是一个例子：“打开归档文件`shutil`模块具有`unpack_archive()`功能。”

代码块设置如下：

```
 >>> 3 * 'hi' + 'hello'
'hihihihello' 
```

任何命令行输入或输出的编写方式如下：

```
 sudo apt install python3-pip
```

**粗体**：表示一个新术语、一个重要单词或您在屏幕上看到的单词。下面是一个示例：**CSV**格式，代表**逗号分隔值**格式

Warnings or important notes appear like this. Tips and tricks appear like this.

# 联系

我们欢迎读者的反馈。

**一般反馈**：如果您对本书的任何方面有疑问，请在邮件主题中注明书名，并发送电子邮件至`customercare@packtpub.com`。

**勘误表**：尽管我们已尽一切努力确保内容的准确性，但还是会出现错误。如果您在本书中发现错误，如果您能向我们报告，我们将不胜感激。请访问[www.packt.com/submit-errata](http://www.packt.com/submit-errata)，选择您的书籍，点击 errata 提交表单链接，并输入详细信息。

**盗版**：如果您在互联网上发现我们作品的任何形式的非法复制品，请您提供我们的位置地址或网站名称，我们将不胜感激。请通过`copyright@packt.com`与我们联系，并提供该材料的链接。

**如果您有兴趣成为一名作家**：如果您对某个主题有专业知识，并且您有兴趣撰写或贡献一本书，请访问[authors.packtpub.com](http://authors.packtpub.com/)。

# 评论

请留下评论。一旦你阅读并使用了这本书，为什么不在你购买它的网站上留下评论呢？然后，潜在读者可以看到并使用您的无偏见意见做出购买决定，我们 Packt 可以了解您对我们产品的看法，我们的作者可以看到您对他们书籍的反馈。非常感谢。

有关 Packt 的更多信息，请访问[Packt.com](http://www.packt.com/)